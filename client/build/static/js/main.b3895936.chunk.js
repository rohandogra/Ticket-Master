(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,a){},235:function(e,t,a){},284:function(e,t,a){e.exports=a(492)},291:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},397:function(e,t,a){},413:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),o=a.n(r),c=(a(289),a(290),a(291),a(28)),i=a(21),m=a(5),s=a(2),u=a(498),d=a(31),p=a(502),E=a(503),f=a(140),y=a.n(f),v=a(205),b=a(249),g=a.n(b).a.create({baseURL:"api/user"});g.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t?"".concat(t):"",e})),g.interceptors.response.use((function(e){return e}),(function(e){var t=e.message.split(" ")[5];return console.log(t,"msg"),document.body.classList.remove("loading-indicator"),"403"===t&&localStorage.removeItem("token"),Promise.reject(e)}));var _=g,h=a(496),O=function(e,t){return function(){var a=Object(v.a)(y.a.mark((function a(n){var l,r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(e,"action"),n({type:"LOGIN_LOADER",payload:!0}),a.prev=2,!e.email||!e.isOtp){a.next=11;break}return a.next=6,_.post("/login",e);case 6:l=a.sent,console.log(l,"action"),n({type:"LOGIN_LOADER",payload:!1}),h.a.success("Otp Sent Successfully"),t.push("/otp");case 11:if(!e.otp||!e.email){a.next=21;break}return a.next=14,_.post("/login",e);case 14:r=a.sent,console.log(r,"action"),n({type:"LOGIN_LOADER",payload:!1}),localStorage.setItem("token",r.data.token),localStorage.removeItem("email"),h.a.success("Successfully Logged in"),t.push("/");case 21:if(!e.email||!e.password){a.next=30;break}return a.next=24,_.post("/login",e);case 24:o=a.sent,console.log(o,"action"),n({type:"LOGIN_LOADER",payload:!1}),localStorage.setItem("token",o.data.token),h.a.success("Successfully Logged in"),t.push("/");case 30:a.next=38;break;case 32:if(a.prev=32,a.t0=a.catch(2),n({type:"LOGIN_LOADER",payload:!1}),!a.t0.response){a.next=37;break}return a.abrupt("return",h.a.error(a.t0.response.data));case 37:console.log(a.t0);case 38:case"end":return a.stop()}}),a,null,[[2,32]])})));return function(e){return a.apply(this,arguments)}}()},T=function(){var e=Object(v.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,_.post("/register",t);case 4:h.a.success("Register Successfully"),a.push("/login"),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),console.log(e.t0),!e.t0.response){e.next=13;break}return e.abrupt("return",h.a.error(e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();a(182);var N=Object(m.b)(null,{register:T})(Object(i.h)((function(e){return Object(n.useEffect)((function(){document.title="Register"})),l.a.createElement("div",{className:"login-form"},l.a.createElement("div",{className:"login-card"},l.a.createElement(s.d,{initialValues:{user_name:"",email:"",password:""},onSubmit:function(t){e.register(t,e.history)}},(function(t){var a=t.handleSubmit;return l.a.createElement("div",{className:"login-form"},l.a.createElement("div",{className:"login-text"},"Register"),l.a.createElement(s.c,{onSubmit:a},l.a.createElement("div",{className:"input-wrapper mb-3"},l.a.createElement("label",{className:""},"User Name"),l.a.createElement(s.b,{className:"",name:"user_name",type:"text",placeholder:"Type your User Name",as:u.a,prefix:l.a.createElement(p.a,{style:{fontSize:22,color:"#adadad"}})})),l.a.createElement("div",{className:"input-wrapper mb-3"},l.a.createElement("label",{className:""},"Email"),l.a.createElement(s.b,{className:"",name:"email",type:"text",placeholder:"Type your Email",as:u.a,prefix:l.a.createElement(p.a,{style:{fontSize:22,color:"#adadad"}})})),l.a.createElement("div",{className:"input-wrapper"},l.a.createElement("label",{className:""},"Password"),l.a.createElement(s.b,{className:"",name:"password",type:"password",placeholder:"Type your password",as:u.a,prefix:l.a.createElement(E.a,{style:{fontSize:22,color:"#adadad"}})})),l.a.createElement("div",{className:"login-btn"},l.a.createElement(d.a,{htmlType:"submit",type:"primary",size:"large"},"Register"))),l.a.createElement("div",{className:"sign-up"},l.a.createElement("div",{className:"sign-up-text-1"},"Or Login"),l.a.createElement("div",{className:"sign-up-text-2",onClick:function(){return e.history.push("/login")}},"Login")))}))))})));var C=Object(m.b)((function(e){return{loading:e.userAuth.loading}}),{login:O})(Object(i.h)((function(e){var t=localStorage.getItem("token"),a=Object(i.g)();return Object(n.useEffect)((function(){document.title="Login"})),l.a.createElement("div",{className:"login-form"},t?l.a.createElement(i.a,{to:"".concat(a.pathname)}):l.a.createElement("div",{className:"login-card"},l.a.createElement(s.d,{initialValues:{email:"",password:""},onSubmit:function(t){e.login(t,e.history)}},(function(t){var a=t.handleSubmit;return l.a.createElement("div",{className:"login-form"},l.a.createElement("div",{className:"login-text"},"Login"),l.a.createElement(s.c,{onSubmit:a},l.a.createElement("div",{className:"input-wrapper mb-3"},l.a.createElement("label",{className:""},"Email"),l.a.createElement(s.b,{className:"",name:"email",type:"text",placeholder:"Type your Email",as:u.a,prefix:l.a.createElement(p.a,{style:{fontSize:22,color:"#adadad"}})})),l.a.createElement("div",{className:"input-wrapper"},l.a.createElement("label",{className:""},"Password"),l.a.createElement(s.b,{className:"",name:"password",type:"password",placeholder:"Type your password",as:u.a,prefix:l.a.createElement(E.a,{style:{fontSize:22,color:"#adadad"}})})),l.a.createElement("div",{className:"login-btn"},l.a.createElement("div",{className:"submit-login"},l.a.createElement(d.a,{loading:e.loading,htmlType:"submit",type:"primary",size:"large"},"Login")),l.a.createElement(d.a,{onClick:function(){return e.history.push("/loginotp")},type:"primary",size:"large"},"Or Login using Otp"))),l.a.createElement("div",{className:"sign-up"},l.a.createElement("div",{className:"sign-up-text-1"},"Or Sign Up"),l.a.createElement("div",{className:"sign-up-text-2",onClick:function(){return e.history.push("/register")}},"SIGN UP")))}))))}))),S=(a(350),a(493)),I=a(59),k=a(497),D=(a(351),a(504)),w=S.a.Header,j=Object(m.b)(null,{logout:function(){return function(e){localStorage.removeItem("token"),h.a.success("Logged out Successfully."),e({type:"RESET"})}}})((function(e){var t=window.location.pathname.split("/")[1];return l.a.createElement(w,null,l.a.createElement(I.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:t},l.a.createElement(I.a.Item,{key:"home"},l.a.createElement(c.b,{to:"/home"},"Home")),l.a.createElement(I.a.Item,{key:"customers"},l.a.createElement(c.b,{to:"/customers"},"Customers")),l.a.createElement(I.a.Item,{key:"departments"},l.a.createElement(c.b,{to:"/departments"},"Departments")),l.a.createElement(I.a.Item,{key:"employees"},l.a.createElement(c.b,{to:"/employees"},"Employees")),l.a.createElement(I.a.Item,{key:"tickets"},l.a.createElement(c.b,{to:"/tickets"},"Tickets")),l.a.createElement(I.a.Item,{className:"logout",key:"logout"},l.a.createElement("span",{onClick:function(){return k.a.confirm({title:"you are about to be logged out?",icon:l.a.createElement(D.a,null),okText:"Ok",cancelText:"Cancle",onOk:function(){localStorage.removeItem("token"),window.location="/login"}})}},"Logout"))))})),M=function(e){var t=null===e||void 0===e?void 0:e.title;return Object(n.useEffect)((function(){document.title=t||"Ticket-Mater"}),[t]),l.a.createElement("div",null,l.a.createElement(j,null),l.a.createElement("div",{className:"layout"},e.children))};var R=function(){return l.a.createElement(M,null,l.a.createElement("h1",null,"Dashboard"))},A=function(e){return function(t){return t({type:"SHOW_MODAL",payload:e})}},P=function(e){return function(e){e({type:"CUSTOMERS_LOADER",payload:!0}),_.get("/customers").then((function(t){e({type:"CUSTOMERS_LOADER",payload:!1}),e({type:"GET_CUSTOMERS",payload:t.data})})).catch((function(e){console.log(e)}))}},x=function(e){return function(t){t({type:"CUSTOMERSBYID_LOADER",payload:!0}),_.get("/customers/".concat(e)).then((function(e){t({type:"CUSTOMERSBYID_LOADER",payload:!1}),t({type:"GET_CUSTOMERSBYID",payload:e.data})})).catch((function(e){console.log(e)}))}},L=(a(235),a(499));a(397);var Y=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"modal__container"},l.a.createElement(L.a,{className:"modal__pageHeader",onBack:!!e.onBack&&e.onBack,title:e.title,subTitle:e.subTitle,tags:e.tags,extra:e.extra}),e.btnName?l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{type:e.btnType,onClick:e.onClick},e.btnName)):null),l.a.createElement("hr",null))};var B=Object(m.b)((function(e){return{modal:e.modals.modalProps}}),{showModal:A,createCustomers:function(e,t){return function(t){_.post("/customers",e).then((function(e){e&&(t(P()),h.a.success("Customer Created Successfully"))})).catch((function(e){h.a.error(e.message)}))}}})(Object(i.h)((function(e){return l.a.createElement(k.a,{title:"",centered:!0,visible:e.modal,onCancel:function(){e.showModal({modalType:"ADD_CUSTOMER",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{initialValues:{name:"",email:"",mobile:""},onSubmit:function(t,a){var n=a.resetForm;e.createCustomers(t),n(),e.showModal({modalType:"ADD_CUSTOMER",modalProps:!1})}},(function(t){var a=t.handleSubmit;t.touched,t.error;return l.a.createElement(s.c,{onSubmit:a},l.a.createElement(Y,{title:"Add Customer"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Name"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"name",className:"form__inputr",placeholder:"Enter You're Full Name",type:"text",as:u.a}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Email"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"email",placeholder:"Enter You're Email",type:"email",as:u.a}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Mobile"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"mobile",placeholder:"Enter You're Mobile",type:"number",as:u.a}))),l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{className:"modal__submit",htmlType:"submit"},"Submit")," ",l.a.createElement(d.a,{className:"modal__close",onClick:function(){e.showModal({modalType:"ADD_CUSTOMER",modalProps:!1})},type:"primary"},"Close")))})))}))),q=a(38),F=a(166);var U=function(e){return l.a.createElement("div",{className:"form__btn"},e.disabled?l.a.createElement(d.a,{className:"modal__close",onClick:e.onClickClose1,type:"primary"},"Close"):l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{className:"modal__submit",htmlType:"submit"},"Submit"),l.a.createElement(d.a,{className:"modal__close",onClick:e.onClickClose2,type:"primary"},"Close")))},G=Object(m.b)((function(e){return{modal:e.modals.modalProps,customer:e.customers.customer,loading:e.customers.fetch}}),{showModal:A,getCustomerById:x,updateCustomer:function(e,t){return function(a){console.log(e,"updateCustomer"),_.put("/customers/".concat(t),e).then((function(e){a(x(t))})).catch((function(e){h.a.error(e.message)}))}},getCustomers:P})(Object(i.h)((function(e){var t,a,r;document.title=!1===e.modal?"Customers":"Customer Details";var o=JSON.parse(localStorage.getItem("Customer_ID")),c=(Object(n.useRef)(null),Object(n.useState)(!0)),i=Object(q.a)(c,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){o&&e.getCustomerById(o)}),[o]),l.a.createElement(k.a,{title:"",centered:!0,visible:e.modal,onCancel:function(){localStorage.removeItem("Customer_ID"),d(!0),e.showModal({modalType:"SHOW_CUSTOMER",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{innerRef:function(e){e},initialValues:{name:(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.name)||"",email:(null===e||void 0===e||null===(a=e.customer)||void 0===a?void 0:a.email)||"",mobile:(null===e||void 0===e||null===(r=e.customer)||void 0===r?void 0:r.mobile)||""},enableReinitialize:!0,onSubmit:function(t,a){var n=a.resetForm;e.updateCustomer(t,o),n({values:""}),d(!0),e.showModal({modalType:"SHOW_CUSTOMER",modalProps:!1}),e.getCustomers()}},(function(t){var a=t.handleSubmit;t.touched,t.error;return l.a.createElement(s.c,{onSubmit:a},l.a.createElement(Y,{title:"Customer ".concat(m?"Details":"Edit"),btnName:"Edit",onClick:function(){d(!m)},btnType:!1===m&&"primary"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Name"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"name",className:"form__inputr",placeholder:"Enter You're Full Name",type:"text",as:u.a,disabled:m}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Email"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"email",placeholder:"Enter You're Email",type:"email",as:u.a,disabled:m}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Mobile"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"mobile",placeholder:"Enter You're Mobile",type:"number",as:u.a,disabled:m}))),l.a.createElement(U,{disabled:m,onClickClose1:function(){localStorage.removeItem("Customer_ID"),e.showModal({modalType:"SHOW_CUSTOMER",modalProps:!1})},onClickClose2:function(){d(!m),localStorage.removeItem("Customer_ID"),e.showModal({modalType:"SHOW_CUSTOMER",modalProps:!1})}}))})))}))),K=function(){return function(e){e({type:"DEPARTMENT_LOADER",payload:!0}),_.get("/departments").then((function(t){e({type:"DEPARTMENT_LOADER",payload:!1}),e({type:"GET_DEPARTMENTS",payload:t.data})})).catch((function(e){console.log(e)}))}};var V=Object(m.b)((function(e){return{modal:e.modals.modalProps}}),{createDepartment:function(e){return function(t){_.post("/departments",e).then((function(e){t(K()),h.a.success("Department Created Successfully")})).catch((function(e){h.a.error(e.message)}))}},showModal:A})((function(e){return l.a.createElement("div",null,l.a.createElement(k.a,{title:"",centered:!0,visible:e.modal,onCancel:function(){e.showModal({modalType:"ADD_DEPARTMENT",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{initialValues:{name:""},onSubmit:function(t,a){var n=a.resetForm;e.createDepartment(t),n(),e.showModal({modalType:"ADD_DEPARTMENT",modalProps:!1})}},(function(t){var a=t.handleSubmit;t.touched,t.error;return l.a.createElement(s.c,{onSubmit:a},l.a.createElement(Y,{title:"Add Department"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",{className:"department__label"},"Department Name"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"name",className:"form__inputr",placeholder:"Enter Department Name",type:"text",as:u.a}))),l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{className:"modal__submit",htmlType:"submit"},"Submit"),l.a.createElement(d.a,{className:"modal__close",onClick:function(){e.showModal({modalType:"ADD_DEPARTMENT",modalProps:!1})},type:"primary"},"Close")))}))))})),H=a(137),z=function(e){return function(e){e({type:"EMPLOYEES_LOADER",payload:!0}),_.get("/employees").then((function(t){e({type:"EMPLOYEES_LOADER",payload:!1}),e({type:"GET_EMPLOYEES",payload:t.data})})).catch((function(e){console.log(e)}))}},W=function(e){return function(t){t({type:"EMPLOYEE_BY_ID_LOADER",payload:!0}),_.get("/employees/".concat(e)).then((function(e){t({type:"EMPLOYEE_BY_ID_LOADER",payload:!1}),t({type:"EMPLOYEE_BY_ID",payload:e.data})})).catch((function(e){console.log(e)}))}},J=a(17),X=H.a.Option,Q=J.a().shape({name:J.b().min(2,"Too Short!").max(70,"Too Long!").required("Required"),email:J.b().email("Invalid email").required("Required")});var Z=Object(m.b)((function(e){return{modal:e.modals.modalProps,departments:e.department.department}}),{showModal:A,createEmployees:function(e){return function(t){_.post("/employees",e).then((function(e){h.a.success("Employee Created Successfully"),t(z())})).catch((function(e){console.log(e)}))}},getDepartments:K})((function(e){var t=e.departments;return Object(n.useEffect)((function(){e.getDepartments()}),[]),l.a.createElement(k.a,{title:"",centered:!0,destroyOnClose:!0,visible:e.modal,onCancel:function(){e.showModal({modalType:"ADD_EMPLOYEE",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{initialValues:{name:"",email:"",mobile:"",department:""},validationSchema:Q,onSubmit:function(t,a){var n=a.resetForm;e.createEmployees(t),n(),e.showModal({modalType:"ADD_EMPLOYEE",modalProps:!1})}},(function(a){var n=a.onChange,r=a.onBlur,o=a.restProps,c=a.validate,i=a.fast;return l.a.createElement(s.c,null,l.a.createElement(Y,{title:"Add Employee"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Name"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"name",className:"form__inputr",placeholder:"Enter You're Full Name",type:"text",as:u.a}),l.a.createElement(s.a,{name:"name",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Email"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"email",placeholder:"Enter You're Email",type:"email",as:u.a}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Mobile"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"mobile",placeholder:"Enter You're Mobile",type:"number",as:u.a}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Department"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"department",validate:c,fast:i},(function(e){var a=e.field.value,c=e.form,i=c.setFieldValue,m=c.setFieldTouched;return l.a.createElement(H.a,Object.assign({style:{width:"100% "},onChange:function(e,t){i("department",e),n&&n(e,t)},onBlur:function(e){m("department"),r&&r(e)},placeholder:"Select Department",value:""===a||null===a?void 0:a},o),t.map((function(e){return l.a.createElement(X,{value:e._id,key:e._id},e.name)})))})))),l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{className:"modal__submit",htmlType:"submit"},"Submit")," ",l.a.createElement(d.a,{className:"modal__close",onClick:function(){e.showModal({modalType:"ADD_EMPLOYEE",modalProps:!1})},type:"primary"},"Close")))})))})),$=H.a.Option,ee=J.a().shape({name:J.b().min(2,"Too Short!").max(70,"Too Long!").required("Required"),email:J.b().email("Invalid email").required("Required")});var te=Object(m.b)((function(e){return{modal:e.modals.modalProps,departments:e.department.department,employee:e.employee.employee,loading:e.employee.fetch}}),{showModal:A,EmployeeById:W,getDepartments:K,updateEmployees:function(e,t){return function(a){_.put("/employees/".concat(e),t).then((function(t){h.a.success("Employee Updated Successfully"),a(W(e)),a(z())})).catch((function(e){console.log(e)}))}}})((function(e){var t,a=e.departments,r=e.employee,o=JSON.parse(localStorage.getItem("Employee_ID")),c=Object(n.useState)(!0),i=Object(q.a)(c,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){if(o)return e.EmployeeById(o),e.getDepartments()}),[o]),l.a.createElement(k.a,{title:"",centered:!0,destroyOnClose:!0,visible:e.modal,onCancel:function(){e.showModal({modalType:"SHOW_EMPLOYEE",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{initialValues:{name:r.name||"",email:r.email||"",mobile:r.mobile||"",department:(null===r||void 0===r||null===(t=r.department)||void 0===t?void 0:t._id)||""},enableReinitialize:!0,validationSchema:ee,onSubmit:function(t,a){var n=a.resetForm;e.updateEmployees(o,t),n(),d(!0)}},(function(t){var n=t.onChange,r=t.onBlur,o=t.restProps,c=t.validate,i=t.fast;return l.a.createElement(s.c,null,l.a.createElement(Y,{title:"Employee Details",btnName:"Edit",onClick:function(){return d(!m)},btnType:!1===m&&"primary"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Name"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"name",className:"form__inputr",placeholder:"Enter You're Full Name",type:"text",as:u.a,disabled:m}),l.a.createElement(s.a,{name:"name",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Email"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"email",placeholder:"Enter You're Email",type:"email",as:u.a,disabled:m}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Mobile"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"mobile",placeholder:"Enter You're Mobile",type:"number",as:u.a,disabled:m}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Department"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"department",validate:c,fast:i},(function(e){var t=e.field.value,c=e.form,i=c.setFieldValue,m=c.setFieldTouched;return l.a.createElement(H.a,Object.assign({style:{width:"100% "},onChange:function(e,t){i("department",e),n&&n(e,t)},disabled:!0,onBlur:function(e){m("department"),r&&r(e)},placeholder:"Select Department",value:""===t||null===t?void 0:t},o),a.map((function(e){return l.a.createElement($,{value:e._id,key:e._id},e.name)})))})))),l.a.createElement(U,{disabled:m,onClickClose1:function(){localStorage.removeItem("Employee_ID"),e.showModal({modalType:"SHOW_EMPLOYEE",modalProps:!1})},onClickClose2:function(){d(!m),localStorage.removeItem("Employee_ID"),e.showModal({modalType:"SHOW_EMPLOYEE",modalProps:!1})}}))})))})),ae=a(170),ne=function(){return function(e){e({type:"TICKET_LOADER",payload:!0}),_.get("/tickets?page=0&&limit=10").then((function(t){e({type:"TICKET_LOADER",payload:!1}),e({type:"GET_TICKETS",payload:t.data})})).catch((function(e){h.a.error(e.message)}))}},le=function(e,t){return function(a){console.log(e,t,"action"),_.put("/tickets/".concat(e),t).then((function(e){h.a.success("Ticket Updated successfully"),a(ne())})).catch((function(e){return h.a.error(e.message)}))}},re=H.a.Option,oe=u.a.TextArea,ce=J.a().shape({code:J.b().required("Required"),title:J.b().required("Required"),customerId:J.b().required("Required"),departmentId:J.b().required("Required"),employeesIds:J.b().required("Required"),message:J.b().required("Required"),priority:J.b().required("Required")});var ie=Object(m.b)((function(e){return{modal:e.modals.modalProps,customers:e.customers.customers,departments:e.department.department,employees:e.employee.employees}}),{showModal:A,getCustomers:P,getDepartments:K,getEmployees:z,createTicket:function(e){return function(t){_.post("/tickets",e).then((function(e){h.a.success("Ticket Created Successfully."),t(ne())})).catch((function(e){h.a.error(e.message)}))}}})((function(e){var t=Object(n.useState)(""),a=Object(q.a)(t,2),r=a[0],o=a[1],c=e.customers,i=e.departments,m=e.employees;Object(n.useEffect)((function(){e.getCustomers(),e.getDepartments(),e.getEmployees()}),[]);var p=m.filter((function(e){return e.department._id==r}));return l.a.createElement(k.a,{title:"",centered:!0,destroyOnClose:!0,visible:e.modal,onCancel:function(){e.showModal({modalType:"ADD_TICKET",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{initialValues:{code:"",title:"",customerId:"",departmentId:"",employeesIds:[],message:"",priority:""},validationSchema:ce,onSubmit:function(t,a){var n=a.resetForm;e.createTicket(t),n(),e.showModal({modalType:"ADD_TICKET",modalProps:!1})}},(function(t){var a=t.onChange,n=t.onBlur,r=t.restProps,m=t.validate,E=t.fast;return l.a.createElement(s.c,null,l.a.createElement(Y,{title:"Add Ticket"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Code"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"code",className:"form__inputr",placeholder:"Enter Code",type:"number",as:u.a}),l.a.createElement(s.a,{name:"code",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Title"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"title",placeholder:"Enter Title",type:"text",as:u.a}),l.a.createElement(s.a,{name:"title",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Customer"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"customerId",validate:m,fast:E},(function(e){var t=e.field.value,o=e.form,i=o.setFieldValue,m=o.setFieldTouched;return l.a.createElement(H.a,Object.assign({style:{width:"100% "},onChange:function(e,t){i("customerId",e),a&&a(e,t)},onBlur:function(e){m("customerId"),n&&n(e)},placeholder:"Select Customer",value:""===t||null===t?void 0:t},r),c&&(null===c||void 0===c?void 0:c.map((function(e){return l.a.createElement(re,{value:e._id,key:e._id},e.name)}))))})),l.a.createElement(s.a,{name:"customerId",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Department"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"departmentId",validate:m,fast:E},(function(e){var t=e.field.value,c=e.form,m=c.setFieldValue,s=c.setFieldTouched;return l.a.createElement(H.a,Object.assign({style:{width:"100% "},onChange:function(e,t){m("departmentId",e,o(e)),a&&a(e,t)},onBlur:function(e){s("departmentId"),n&&n(e)},placeholder:"Select Department",value:""===t||null===t?void 0:t},r),i.map((function(e){return l.a.createElement(re,{value:e._id,key:e._id},e.name)})))})),l.a.createElement(s.a,{name:"departmentId",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Employees"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"employeesIds",validate:m,fast:E},(function(e){var t=e.field.value,o=e.form,c=o.setFieldValue,i=o.setFieldTouched;return l.a.createElement(H.a,Object.assign({mode:"multiple",style:{width:"100% "},onChange:function(e,t){c("employeesIds",e),a&&a(e,t)},onBlur:function(e){i("employeesIds"),n&&n(e)},placeholder:"Select Employees",value:""===t||null===t?void 0:t},r),p.map((function(e){return l.a.createElement(re,{value:e._id,key:e._id},e.name)})))})),l.a.createElement(s.a,{name:"employeesIds",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Message"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"message",placeholder:"Enter message",type:"text",as:oe}),l.a.createElement(s.a,{name:"message",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Priority"),l.a.createElement("div",{className:"form__input"},l.a.createElement(s.b,{name:"priority",validate:m,fast:E},(function(e){var t=e.field.value,n=e.form,o=n.setFieldValue,c=n.setFieldTouched;return l.a.createElement(ae.default.Group,Object.assign({value:t,onChange:function(e){o("priority",e.target.value),c("priority",!0,!1),a&&a(e)}},r),l.a.createElement(ae.default,{value:"high"},"High"),l.a.createElement(ae.default,{value:"medium"},"Medium"),l.a.createElement(ae.default,{value:"low"},"Low"))})),l.a.createElement(s.a,{name:"priority",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{className:"modal__submit",htmlType:"submit"},"Submit")," ",l.a.createElement(d.a,{className:"modal__close",onClick:function(){e.showModal({modalType:"ADD_TICKET",modalProps:!1})},type:"primary"},"Close")))})))})),me=H.a.Option,se=u.a.TextArea,ue=J.a().shape({title:J.b().required("Required"),customerId:J.b().required("Required"),departmentId:J.b().required("Required"),employeesIds:J.b().required("Required"),message:J.b().required("Required"),priority:J.b().required("Required")});var de={ADD_CUSTOMER:B,ADD_DEPARTMENT:V,ADD_EMPLOYEE:Z,ADD_TICKET:ie,SHOW_CUSTOMER:G,SHOW_EMPLOYEE:te,SHOW_TICKET:Object(m.b)((function(e){return{modal:e.modals.modalProps,customers:e.customers.customers,departments:e.department.department,employees:e.employee.employees,ticket:e.tickets.ticket,loading:e.tickets.fetch}}),{showModal:A,getTicketById:function(e){return function(t){t({type:"TICKET_BY_ID_LOADER",payload:!0}),_.get("/tickets/".concat(e)).then((function(e){t({type:"TICKET_BY_ID_LOADER",payload:!1}),t({type:"GET_TICKETBYID",payload:e.data})})).catch((function(e){h.a.error(e.message)}))}},getCustomers:P,getDepartments:K,getEmployees:z,updateTicket:le})((function(e){var t,a,r,o,c=Object(n.useState)(""),i=Object(q.a)(c,2),m=i[0],p=i[1],E=Object(n.useState)(!0),f=Object(q.a)(E,2),y=f[0],v=f[1],b=JSON.parse(localStorage.getItem("ticket_ID")),g=e.customers,_=e.departments,h=e.employees,O=e.ticket;Object(n.useEffect)((function(){e.getCustomers(),e.getTicketById(b),e.getDepartments(),e.getEmployees()}),[b]);var T=""===m?null===O||void 0===O||null===(t=O.departmentId)||void 0===t?void 0:t._id:m,N=null===h||void 0===h?void 0:h.filter((function(e){return e.department._id===T}));return console.log(m,"departments"),console.log(_,"departments All"),l.a.createElement(k.a,{title:"",centered:!0,destroyOnClose:!0,visible:e.modal,onCancel:function(){e.showModal({modalType:"ADD_TICKET",modalProps:!1})},width:500,footer:null},l.a.createElement(s.d,{initialValues:{code:O.code||"",title:O.title||"",customerId:(null===(a=O.customerId)||void 0===a?void 0:a._id)||"",departmentId:m||((null===(r=O.departmentId)||void 0===r?void 0:r._id)||""),employeesIds:m?[]:null===O||void 0===O||null===(o=O.employeesIds)||void 0===o?void 0:o.map((function(e){return null===e||void 0===e?void 0:e._id})),message:O.message||"",priority:O.priority||""},enableReinitialize:!0,validationSchema:ue,onSubmit:function(t,a){var n=a.resetForm;e.updateTicket(b,t),n(),e.showModal({modalType:"ADD_TICKET",modalProps:!1})}},(function(t){var a=t.onChange,n=t.onBlur,r=t.restProps,o=t.validate,c=t.fast;return l.a.createElement(s.c,null,l.a.createElement(Y,{title:"Add New Ticket",btnName:"Edit",onClick:function(){return v(!y)},btnType:!1===y&&"primary"}),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Code"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement(s.b,{name:"code",className:"form__inputr",placeholder:"Enter Code",type:"text",as:u.a,disabled:y}),l.a.createElement(s.a,{name:"code",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}}))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Title"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement("div",null,l.a.createElement(s.b,{name:"title",placeholder:"Enter Title",type:"text",as:u.a,disabled:y}),l.a.createElement(s.a,{name:"title",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}})))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Customer"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement("div",null,l.a.createElement(s.b,{name:"customerId",validate:o,fast:c},(function(e){var t=e.field.value,o=e.form,c=o.setFieldValue,i=o.setFieldTouched;return l.a.createElement(H.a,Object.assign({disabled:y,style:{width:"100% "},onChange:function(e,t){c("customerId",e),a&&a(e,t)},onBlur:function(e){i("customerId"),n&&n(e)},placeholder:"Select Customer",value:""===t||null===t?void 0:t},r),g&&(null===g||void 0===g?void 0:g.map((function(e){return l.a.createElement(me,{value:e._id,key:e._id},e.name)}))))})),l.a.createElement(s.a,{name:"customerId",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}})))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Department"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement("div",null,l.a.createElement(s.b,{name:"departmentId",validate:o,fast:c},(function(e){var t=e.field.value,o=e.form,c=o.setFieldValue,i=o.setFieldTouched;return l.a.createElement(H.a,Object.assign({disabled:y,style:{width:"100% "},onChange:function(e,t){c("departmentId",e,p(e)),a&&a(e,t)},onBlur:function(e){i("departmentId"),n&&n(e)},placeholder:"Select Department",value:""===t||null===t?void 0:t},r),_.map((function(e){return l.a.createElement(me,{value:e._id,key:e._id},e.name)})))})),l.a.createElement(s.a,{name:"departmentId",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}})))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Employees"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement("div",null,l.a.createElement(s.b,{name:"employeesIds",validate:o,fast:c},(function(e){var t=e.field.value,o=e.form,c=o.setFieldValue,i=o.setFieldTouched;return l.a.createElement(H.a,Object.assign({disabled:y,mode:"multiple",style:{width:"100% "},onChange:function(e,t){c("employeesIds",e),a&&a(e,t)},onBlur:function(e){i("employeesIds"),n&&n(e)},placeholder:"Select Employees",value:""===t||null===t?void 0:t},r),null===N||void 0===N?void 0:N.map((function(e){return l.a.createElement(me,{value:null===e||void 0===e?void 0:e._id,key:null===e||void 0===e?void 0:e._id},null===e||void 0===e?void 0:e.name)})))})),l.a.createElement(s.a,{name:"employeesIds",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}})))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Message"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement("div",null,l.a.createElement(s.b,{disabled:y,name:"message",placeholder:"Enter message",type:"text",as:se}),l.a.createElement(s.a,{name:"message",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}})))),l.a.createElement("div",{className:"form__inputContainer"},l.a.createElement("label",null,"Priority"),l.a.createElement("div",{className:"form__input"},e.loading?l.a.createElement(F.a,null):l.a.createElement("div",null,l.a.createElement(s.b,{name:"priority",validate:o,fast:c},(function(e){var t=e.field.value,n=e.form,o=n.setFieldValue,c=n.setFieldTouched;return l.a.createElement(ae.default.Group,Object.assign({disabled:y,value:t,onChange:function(e){o("priority",e.target.value),c("priority",!0,!1),a&&a(e)}},r),l.a.createElement(ae.default,{value:"high"},"High"),l.a.createElement(ae.default,{value:"medium"},"Medium"),l.a.createElement(ae.default,{value:"low"},"Low"))})),l.a.createElement(s.a,{name:"priority",render:function(e){return l.a.createElement("div",{style:{color:"red"}},e)}})))),l.a.createElement("div",{className:"modal__btn"},l.a.createElement(d.a,{className:"modal__submit",htmlType:"submit"},"Submit"),l.a.createElement(d.a,{className:"modal__close",onClick:function(){e.showModal({modalType:"ADD_TICKET",modalProps:!1})},type:"primary"},"Close")))})))}))},pe=Object(m.b)((function(e){return{modal:e.modals}}))((function(e){var t=e.modal,a=t.modalType,n=t.modalProps;if(!a)return null;var r=de[a];return l.a.createElement(r,n)})),Ee=a(281),fe=function(e){var t=e.component,a=Object(Ee.a)(e,["component"]);return l.a.createElement(i.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")&&void 0!==localStorage.getItem("token")?l.a.createElement(t,e):l.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ye=a(4),ve=a(494),be=function(e){return l.a.createElement(d.a,{type:e.btnType,onClick:function(){k.a.confirm({title:e.title,icon:l.a.createElement(D.a,null),okText:"Ok",cancelText:"Cancle",onOk:e.onOk})}},e.btnName)};a(413);var ge=Object(m.b)((function(e){return{modal:e.modals,customers:e.customers.customers,loading:e.customers.loading1}}),{getCustomers:P,showModal:A,deleteCustomer:function(e){return function(t){_.delete("/customers/".concat(e)).then((function(e){h.a.success("Customer Deleted Successfully"),t(P())})).catch((function(e){h.a.error(e.message)}))}}})((function(e){var t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Action",dataIndex:"action",key:"action",render:function(t){return l.a.createElement("div",{className:"customer__ActionButtonContainer"},l.a.createElement(d.a,{onClick:function(){localStorage.setItem("Customer_ID",JSON.stringify(t)),e.showModal({modalType:"SHOW_CUSTOMER",modalProps:!0})},className:"customer_ActionShow"},"Show"),l.a.createElement(be,{title:"Are you sure?",btnType:"danger",btnName:"Delete",onOk:function(){e.deleteCustomer(t)}}))}}],a=e.customers,r=null===a||void 0===a?void 0:a.map((function(e){return Object(ye.a)(Object(ye.a)({},e),{},{key:e._id,action:e._id})}));return Object(n.useEffect)((function(){if(0===a.length)return e.getCustomers()}),[a._id,a.name,a.email]),console.log(a.length,"not"),l.a.createElement(M,{title:"Customers",className:"customerShow"},l.a.createElement(Y,{title:"Customers",onBack:function(){return e.history.push("/")},subTitle:null===a||void 0===a?void 0:a.length,btnName:"Add New Customer",onClick:function(){e.showModal({modalType:"ADD_CUSTOMER",modalProps:!0})}}),l.a.createElement(ve.a,{dataSource:r,loading:e.loading,columns:t,pagination:!1}))})),_e=a(500);var he=Object(m.b)((function(e){return{department:e.department.department,loading:e.department.loading,modal:e.modals.modalProps}}),{getDepartments:K,showModal:A,deleteDepartment:function(e){return function(t){_.delete("/departments/".concat(e)).then((function(e){t(K()),h.a.success("Department Deleted Successfully")})).catch((function(e){h.a.error(e.message)}))}}})((function(e){return Object(n.useEffect)((function(){0===e.department.length&&e.getDepartments()}),[]),l.a.createElement(M,{title:"Departments"},l.a.createElement(Y,{title:"Departments",subTitle:e.department.length,onBack:function(){return e.history.push("/")},btnName:"Add New Department",onClick:function(){return e.showModal({modalType:"ADD_DEPARTMENT",modalProps:!0})}}),l.a.createElement(_e.b,{bordered:!0,loading:e.loading,dataSource:e.department.map((function(e){return e})),pagination:!0,renderItem:function(t){return l.a.createElement(_e.b.Item,{actions:[l.a.createElement(be,{title:"Are you sure?",btnType:"danger",btnName:"Delete",onOk:function(){e.deleteDepartment(t._id)}})]},t.name)}}))}));var Oe=Object(m.b)((function(e){return{modal:e.modals,employees:e.employee.employees,loading:e.employee.loading}}),{showModal:A,getEmployees:z,deleteEmployee:function(e){return function(t){_.delete("/employees/".concat(e)).then((function(e){h.a.success("Employee Deleted Successfully"),t(z())})).catch((function(e){console.log(e)}))}}})((function(e){var t=e.employees,a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Mobile",dataIndex:"mobile",key:"mobile"},{title:"Department",dataIndex:"department",key:"department"},{title:"Action",dataIndex:"action",key:"action",render:function(t){return l.a.createElement("div",{className:"customer__ActionButtonContainer"},l.a.createElement(d.a,{onClick:function(){localStorage.setItem("Employee_ID",JSON.stringify(t)),e.showModal({modalType:"SHOW_EMPLOYEE",modalProps:!0})},className:"customer_ActionShow"},"Show"),l.a.createElement(be,{title:"Are you sure?",btnType:"danger",btnName:"Delete",onOk:function(){e.deleteEmployee(t)}}))}}];Object(n.useEffect)((function(){document.title="Employees",0===t.length&&e.getEmployees()}),[]);var r=null===t||void 0===t?void 0:t.map((function(e){var t;return{key:null===e||void 0===e?void 0:e._id,name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,mobile:null===e||void 0===e?void 0:e.mobile,department:null===(t=e.department)||void 0===t?void 0:t.name,action:e._id}}));return l.a.createElement(M,null,l.a.createElement(Y,{title:"Employees",btnName:"Add New Employee",onBack:function(){return e.history.push("/")},subTitle:t.length,onClick:function(){e.showModal({modalType:"ADD_EMPLOYEE",modalProps:!0})}}),l.a.createElement(ve.a,{dataSource:r,loading:e.loading,columns:a,pagination:!1}))})),Te=a(495),Ne=a(501),Ce=a(139);var Se=Object(m.b)((function(e){return{modal:e.modals,tickets:e.tickets.tickets,loading:e.tickets.loading,department:e.department.department}}),{showModal:A,updateTicket:le,getDepartments:K,deleteTicket:function(e){return function(t){_.delete("/tickets/".concat(e)).then((function(e){h.a.success("Ticket Deleted successfully"),t(ne())})).catch((function(e){return h.a.error(e.message)}))}}})((function(e){var t,a;Object(n.useEffect)((function(){e.getDepartments()}),[]);var r=[{title:"Code",dataIndex:"code",key:"code"},{title:"Title",dataIndex:"title",key:"title"},{title:"Customer",dataIndex:"customerId",key:"customerId"},{title:"Department",dataIndex:"departmentId",key:"departmentId",filters:e.department.map((function(e){return{text:e.name,value:e.name}})),onFilter:function(e,t){return t.departmentId.includes(e)}},{title:"Employees",dataIndex:"employeesIds",key:"employeesIds",render:function(e){return l.a.createElement(l.a.Fragment,null,e.map((function(e){return l.a.createElement(Ne.a,{color:"volcano",key:e._id},e.name)})))}},{title:"Priority",dataIndex:"priority",key:"priority",filters:[{text:"high",value:"high"},{text:"medium",value:"medium"},{text:"low",value:"low"}],onFilter:function(e,t){return t.priority.includes(e)}},{title:"Resolved",dataIndex:"isResolved",key:"isResolved",render:function(t){return l.a.createElement("div",null,l.a.createElement(Ce.a,{style:{paddingLeft:"15%"},defaultChecked:t.state,onChange:function(a){return function(t,a){e.updateTicket(t,{isResolved:a.target.checked})}(t.id,a)}}))}},{title:"Action",dataIndex:"action",key:"action",render:function(t){return l.a.createElement("div",{className:"customer__ActionButtonContainer"},l.a.createElement(d.a,{onClick:function(){localStorage.setItem("ticket_ID",JSON.stringify(t)),e.showModal({modalType:"SHOW_TICKET",modalProps:!0})},className:"customer_ActionShow"},"Show"),l.a.createElement(be,{title:"Are you sure?",btnType:"danger",btnName:"Delete",onOk:function(){e.deleteTicket(t)}}))}}],o=null===(t=e.pending)||void 0===t?void 0:t.map((function(e){var t;return{key:null===e||void 0===e?void 0:e._id,code:null===e||void 0===e?void 0:e.code,title:null===e||void 0===e?void 0:e.title,customerId:null===e||void 0===e?void 0:e.customerId.name,departmentId:null===(t=e.departmentId)||void 0===t?void 0:t.name,employeesIds:e.employeesIds.map((function(e){return e})),priority:e.priority,isResolved:{id:e._id,state:e.isResolved},action:e._id}})),c=null===(a=e.completed)||void 0===a?void 0:a.map((function(e){var t;return{key:null===e||void 0===e?void 0:e._id,code:null===e||void 0===e?void 0:e.code,title:null===e||void 0===e?void 0:e.title,customerId:null===e||void 0===e?void 0:e.customerId.name,departmentId:null===(t=e.departmentId)||void 0===t?void 0:t.name,employeesIds:e.employeesIds.map((function(e){return e})),priority:e.priority,isResolved:{id:e._id,state:e.isResolved},action:e._id}}));return l.a.createElement("div",null,"Pending"===e.current?l.a.createElement(ve.a,{dataSource:o,loading:e.loading,columns:r,pagination:!1}):l.a.createElement(ve.a,{dataSource:c,loading:e.loading,columns:r,pagination:!1}))})),Ie=Te.a.TabPane;var ke=Object(m.b)((function(e){return{modal:e.modals.modalProps,tickets:e.tickets.tickets}}),{showModal:A,getTickets:ne})((function(e){var t=e.tickets;Object(n.useEffect)((function(){document.title="Tickets",0===t.length&&e.getTickets()}),[]);var a=e.tickets.filter((function(e){return!1===e.isResolved})),r=e.tickets.filter((function(e){return!0===e.isResolved}));return l.a.createElement(M,null,l.a.createElement(Y,{title:"Tickets",onBack:function(){return e.history.push("/")},btnName:"Add New Ticket",onClick:function(){e.showModal({modalType:"ADD_TICKET",modalProps:!0})}}),l.a.createElement(Te.a,{defaultActiveKey:"1"},l.a.createElement(Ie,{tab:"Pending ".concat(a.length),key:"Pending"},l.a.createElement(Se,{current:"Pending",pending:a,all:e.tickets})),l.a.createElement(Ie,{tab:"Completed ".concat(r.length),key:"Completed"},l.a.createElement(Se,{current:"Completed",completed:r}))))}));var De=Object(m.b)((function(e){return{loading:e.userAuth.loading}}),{login:O})(Object(i.h)((function(e){return Object(n.useEffect)((function(){document.title="Login"})),l.a.createElement("div",{className:"login-form"},l.a.createElement("div",{className:"login-card"},l.a.createElement(s.d,{initialValues:{email:"",isOtp:!0},onSubmit:function(t){console.log(t),localStorage.setItem("email",t.email),e.login(t,e.history)}},(function(t){var a=t.handleSubmit;return l.a.createElement("div",{className:"login-form"},l.a.createElement("div",{className:"login-text"},"Login"),l.a.createElement(s.c,{onSubmit:a},l.a.createElement("div",{className:"input-wrapper mb-3"},l.a.createElement("label",{className:""},"Email"),l.a.createElement(s.b,{className:"",name:"email",type:"text",placeholder:"Type your Email",as:u.a,prefix:l.a.createElement(p.a,{style:{fontSize:22,color:"#adadad"}})})),l.a.createElement("div",{className:"login-btn"},l.a.createElement("div",{className:"submit-login"},l.a.createElement(d.a,{htmlType:"submit",type:"primary",size:"large"},"Get Otp")),l.a.createElement(d.a,{onClick:function(){return e.history.push("/login")},type:"primary",size:"large"},"Or Login using Password"))),l.a.createElement("div",{className:"sign-up"},l.a.createElement("div",{className:"sign-up-text-1"},"Or Sign Up"),l.a.createElement("div",{className:"sign-up-text-2",onClick:function(){return e.history.push("/register")}},"SIGN UP")))}))))}))),we=a(276),je=a.n(we),Me=(a(491),Object(m.b)(null,{login:O})(Object(i.h)((function(e){var t=Object(n.useState)(""),a=Object(q.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(4),i=Object(q.a)(c,2),m=i[0],s=(i[1],Object(n.useState)(!1)),u=Object(q.a)(s,2),d=u[0];u[1];return l.a.createElement("div",{className:"container__cust"},l.a.createElement("div",{className:"view"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{onSubmit:function(t){var a=localStorage.getItem("email");t.preventDefault(),e.login({email:a,otp:r},e.history)}},l.a.createElement("p",null,"Enter verification code"),l.a.createElement("div",{className:"margin-top--small"},l.a.createElement(je.a,{inputStyle:"inputStyle",numInputs:6,isDisabled:d,errorStyle:"error",onChange:function(e){o(e)},separator:l.a.createElement("span",null,"-"),isInputNum:!0,shouldAutoFocus:!0,value:r})),l.a.createElement("div",{className:"btn-row"},l.a.createElement("button",{className:"btn margin-top--large",type:"button",disabled:d,onClick:function(){o(r="")}},"Clear"),l.a.createElement("button",{className:"btn margin-top--large",disabled:r.length<m},"Login"))))))})))),Re=window.location.pathname;var Ae=Object(m.b)((function(e){return{login:e.login}}))((function(e){return console.log(Re),l.a.createElement(c.a,null,l.a.createElement(pe,null),l.a.createElement("div",null,l.a.createElement(i.d,null,l.a.createElement(i.a,{from:"/",to:"/home",exact:!0}),l.a.createElement(fe,{path:"/home",component:R}),l.a.createElement(fe,{path:"/customers",component:ge,exact:!0}),l.a.createElement(fe,{path:"/departments",component:he,exact:!0}),l.a.createElement(fe,{path:"/employees",component:Oe,exact:!0}),l.a.createElement(fe,{path:"/tickets",component:ke,exact:!0}),l.a.createElement(i.b,{path:"/register",component:N,exact:!0}),l.a.createElement(i.b,{path:"/login",component:C,exact:!0}),l.a.createElement(i.b,{path:"/loginotp",component:De,exact:!0}),l.a.createElement(i.b,{path:"/otp",component:Me,exact:!0}))))})),Pe=a(77),xe=a(277),Le={customers:[],loading1:!1,customer:{},fetch:!1},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CUSTOMERS":return Object(ye.a)(Object(ye.a)({},e),{},{customers:t.payload,loading1:!1});case"GET_CUSTOMERSBYID":return Object(ye.a)(Object(ye.a)({},e),{},{customer:t.payload});case"CUSTOMERS_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{loading1:t.payload});case"CUSTOMERSBYID_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{fetch:t.payload});case"RESET":return Le;default:return Object(ye.a)({},e)}},Be={department:[],loading:!1},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DEPARTMENTS":return Object(ye.a)(Object(ye.a)({},e),{},{department:t.payload});case"DEPARTMENT_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{loading:t.payload});case"RESET":return Be;default:return Object(ye.a)({},e)}},Fe={modalType:"",modalProps:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return Object(ye.a)(Object(ye.a)({},e),{},{modalType:t.payload.modalType,modalProps:t.payload.modalProps});default:return Object(ye.a)({},e)}},Ge={loading:!1},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_LOADER":return{loading:t.payload};default:return Object(ye.a)({},e)}},Ve={employees:[],loading:!1,employee:{},fetch:!1},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EMPLOYEES":return Object(ye.a)(Object(ye.a)({},e),{},{employees:t.payload});case"EMPLOYEES_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{loading:t.payload});case"EMPLOYEE_BY_ID":return Object(ye.a)(Object(ye.a)({},e),{},{employee:t.payload});case"EMPLOYEE_BY_ID_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{fetch:t.payload});case"RESET":return Ve;default:return Object(ye.a)({},e)}},ze={tickets:[],ticket:{},loading:!1,fetch:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TICKETS":return Object(ye.a)(Object(ye.a)({},e),{},{tickets:t.payload});case"GET_TICKETBYID":return Object(ye.a)(Object(ye.a)({},e),{},{ticket:t.payload});case"TICKET_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{loading:t.payload});case"TICKET_BY_ID_LOADER":return Object(ye.a)(Object(ye.a)({},e),{},{fetch:t.payload});case"RESET":return ze;default:return Object(ye.a)({},e)}},Je=Object(Pe.c)({customers:Ye,department:qe,modals:Ue,userAuth:Ke,employee:He,tickets:We}),Xe=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pe.d)(Object(Pe.a)(xe.a))(Pe.e);var Qe,Ze=l.a.createElement(m.a,{store:Xe(Je,Qe)},l.a.createElement(Ae,null));o.a.render(Ze,document.getElementById("root"))}},[[284,1,2]]]);
//# sourceMappingURL=main.b3895936.chunk.js.map